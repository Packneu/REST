<!-- profile.html -->

<!DOCTYPE html>
<html>
<head>
    <title>User Profile</title>
</head>
<body>
    <h1>User Profile</h1>
    {% if g.user %}
        <p>Username: {{ g.user['username'] }}</p>
        {% for message in get_flashed_messages() %}
            <p class="error">{{ message }}</p>
        {% endfor %}
        <form method="post" action="{{ url_for('user.update_profile') }}">
            <label for="username">Username:</label>
            <input type="text" name="username" id="username" value="{{ g.user['username'] }}">
            <hr>
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" value="{{ g.user['email'] }}">
            <hr>
            <label for="first_name">First Name:</label>
            <input type="text" name="first_name" id="first_name" value="{{ g.user['first_name'] }}">
            <hr>
            <label for="last_name">Last Name:</label>
            <input type="text" name="last_name" id="last_name" value="{{ g.user['last_name'] }}">
            <hr>
            <input type="submit" value="Save">
        </form>
        <a href="{{ url_for('user.change_password') }}">Change Password</a>
        <br>
        <a href="{{ url_for('index') }}">Back to Home</a>
    {% else %}
        <p>Please log in to view your profile.</p>
    {% endif %}
</body>
</html>
